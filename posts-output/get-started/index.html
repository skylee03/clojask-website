<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Clojask: Get Started</title>
        
<meta name="keywords" content="Start">

<meta name="description" content="Clojask Typesstring">

<meta property="og:description" content="Clojask Typesstring">

<meta property="og:url" content="https://clojure-finance.github.io/clojask-website/clojask-website/posts-output/get-started/" />
<meta property="og:title" content="Get Started" />
<meta property="og:type" content="article" />

        <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
        
        <link rel="shortcut icon" href="images/ico/favicon.png">
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700|Oxygen:300,400,700|Inconsolata" rel="stylesheet">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@300&display=swap" rel="stylesheet">
        <link href="/clojask-website/css/normalize.css" rel="stylesheet" type="text/css" />
        <link href="/clojask-website/css/blog.css" rel="stylesheet" type="text/css" />
        <link href="/clojask-website/css/lotus-highlightjs.min.css" rel="stylesheet" type="text/css" />
        <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/styles/tomorrow-night-eighties.min.css">
    </head>
    <body>
        <aside id="sidebar">
            <div id="logo">
                <a title="Clojask" href="/clojask-website/">
                    <!-- <img class="icon" src="/clojask-website/img/white-lotus.svg"> -->
                    <div class="title-text text desktop-and-tablet-only">
                        <span class="desktop-and-tablet-only fa fa-cubes"></span>
                        <br>
                        <br>
                        Clojask
                    </div>
                    <div class="title-text text mobile-only">Clojask</div>
                </a>
            </div> 

            <nav id="sidebar-links">
                <nav id="menucont">
                    <input type="checkbox" id="menu-checkbox" class="menu-checkbox">
                    <label for="menu-checkbox" class="menutitle">
                        <svg class="icon icon-menu" aria-hidden="true"><use xlink:href="/clojask-website/img/icons.svg#icon-menu"></use></svg><span class="menu-text">Menu</span>
                    </label>
                    <ul class="menu">
                        <li ><a title="Home" href="/clojask-website/"><div class="menu-item-text">Home</div></a></li>
                        <!-- 
                        <li ><a title="Tags" href="/clojask-website/tags/"><div class="menu-item-text">Tags</div></a></li>
                         -->
                        
                        <li >
                            <a href="/clojask-website/pages-output/about/"><div class="menu-item-text">About</div></a>
                        </li>
                        
                         <!-- custom navbar item -->
                        <li>
                            <a title="Get Started" href="/clojask-website/posts-output/get-started/"><div class="menu-item-text">Getting Started</div></a>
                        </li>
                        <li>
                            <a title="API Docs" href="/clojask-website/posts-output/API/"><div class="menu-item-text">API Docs</div></a>
                        </li>
                        <li >
                            <a title="Examples" href="/clojask-website/posts-output/examples/"><div class="menu-item-text">Examples</div></a>
                        </li>
                        <li >
                            <a title="Extensions" href="/clojask-website/posts-output/extensions/"><div class="menu-item-text">Extensions</div></a>
                        </li>
                        
<!-- 
                        <button class="dropdown">Dropdown
                            <i class="fa fa-caret-down"></i>
                        </button>
                        <div class="dropdown-container">
                            <a href="#">Link 1</a>
                            <a href="##">Link 2</a>
                            <a href="###">Link 3</a>
                        </div>
                        </a> -->

                        <li ><a title="Archives" href="/clojask-website/archives/"><div class="menu-item-text">Archives</div></a></li>
                        <!-- <li><a title="RSS" href="/clojask-website/feed.xml"><div class="menu-item-text">RSS</div></a></li> -->
                    </ul>
                </nav>

                <nav id="socialmedia">
                    <ul>
                        <li><a title="GitHub" href="https://github.com/clojure-finance/clojask" rel="external"><svg class="icon icon-github-circled"><use xlink:href="/clojask-website/img/icons.svg#icon-github-circled"></use></svg></a></li>
                    </ul>
                </nav>
            </nav>
        </aside>

        <article id="main">
            
<div id="post">
    <div class="post-header">
    <div id="post-meta">
        <h1>Get Started</h1>
        <div class="byline">
            <!-- <span class="date">2021年9月30日</span> -->
            
        </div>
    </div>
</div>
<div>
    <ul class="toc"><li><a href="#clojask-types">Clojask Types</a></li><ul><li><a href="#string">string</a></li><li><a href="#int">int</a></li><li><a href="#double">double</a></li><li><a href="#date">date</a></li><li><a href="#datetime">datetime</a></li></ul><li><a href="#hybrid-column--empty-fields">Hybrid Column & Empty Fields</a></li><li><a href="#system-of-operations">System of operations</a></li><ul><li><a href="#replaceable-operations">Replaceable operations</a></li><li><a href="#incremental-operations">Incremental operations</a></li></ul></ul>
    <h2 id="clojask-types">Clojask Types</h2><h3 id="string">string</h3><p>The default type for all columns</p><p>Class: <code>java.lang.String</code></p><p><strong>Examples</strong></p><pre><code class="clojure">(set-type dataframe "col-name" "string")
</code></pre><h3 id="int">int</h3><p>Most efficiently stores an integer</p><p>Class: <code>java.lang.Integer</code></p><p><strong>Examples</strong></p><pre><code class="clojure">(set-type dataframe "col-name" "int")
</code></pre><h3 id="double">double</h3><p>Accepts floats and integers</p><p>Class: <code>java.lang.Double</code></p><p><strong>Examples</strong></p><pre><code class="clojure">(set-type dataframe "col-name" "double")
</code></pre><h3 id="date">date</h3><p>Transform a date string (no time field)</p><p>Class: <code>java.util.Date</code> (default format string: <code>yyyy-MM-dd</code>)</p><p><strong>Examples</strong></p><pre><code class="clojure">;; if the date looks like this 2020/11/12
(set-type dataframe "col-name" "date:yyyy/MM/dd")
</code></pre><h3 id="datetime">datetime</h3><p>Transform a date string (no time field)</p><p>Class: <code>java.util.Date</code> (default format string: <code>yyyy-MM-dd HH:mm:ss</code>)</p><p><strong>Examples</strong></p><pre><code class="clojure">;; if the date looks like this 2020/11/12 12:12:36
(set-type dataframe "col-name" "datetime:yyyy/MM/dd HH:mm:ss")
</code></pre><h2 id="hybrid-column--empty-fields">Hybrid Column &amp; Empty Fields</h2><p>Take this dataset as an example.</p><table><thead><tr><th>Employee</th><th>EmployeeName</th><th>Department</th><th>Salary</th></tr></thead><tbody><tr><td>1</td><td>Alice</td><td>11</td><td>300</td></tr><tr><td>2</td><td>Bob</td><td>11</td><td>34,000</td></tr><tr><td>3</td><td>Carla</td><td> </td><td>900</td></tr><tr><td>4</td><td>Daniel</td><td>12</td><td>1,000</td></tr><tr><td>5</td><td>Evelyn</td><td>13</td><td>800</td></tr><tr><td>...</td><td>...</td><td>...</td><td>...</td></tr></tbody></table><p>The first thing to do after creating this dataframe is to set the type of column <strong>Salary</strong> to <code>int</code>.</p><pre><code class="clojure">(ck/set-type "Salary" "int")
</code></pre><p>However, when you take a look at the data type of the latest <strong>Salary</strong> column using function <code>print-df</code>. It contains both <code>int</code> and <code>string</code>. This is because some numbers (contains ",") are not recognized by the integer parser, such as 34,000 and 1,000. Therefore, when you operate function to this column, you should accept both <code>int</code> and <code>string</code> as the input. One way to solve this issue is to create your own parser for integer that ignores comma.</p><pre><code class="clojure">(ck/set-parser "Salary" customized-parser)
</code></pre><p>The column will empty fields is just a special case of hybrid column. The <strong>Department</strong> column has an empty field. The type of it is <code>string</code> &amp; <code>nil</code>. You can tell that empty fields simply contain value <code>nil</code>. It is worth notice that</p><pre><code class="clojure">(ck/compute ... :exception true)
</code></pre><p>will also assign <code>nil</code> to fields that throw exceptions during execution. Therefore, your operation functions have to consider <code>nil</code> input in these two scenarios.</p><h2 id="system-of-operations">System of operations</h2><p>Clojask is defined by two key types: incremental and replaceable operations.</p><h3 id="replaceable-operations">Replaceable operations</h3><p>Replaceable operatons include</p><ul><li>set-type</li><li>set-parser</li><li>group-by</li><li>add-formatter</li><li>join</li></ul><p>Replaceable operations can be called multiple times to <strong>replace</strong> the previous call of the operation</p><pre><code class="clojure">(def x (dataframe "path/to/a.csv"))
;; defines dataframe from csv file "a.csv" 

(set-type x "int" "employee_no")
;; makes column "employee numbers" integers
 
(set-type x "str" "employee_no")
;; makes column "employee numbers" strings  
</code></pre><p>In the case above, Clojask will ultimately interpret the "employeee_no" column as a <strong>string</strong>, rather than an <strong>integer</strong>.</p><h3 id="incremental-operations">Incremental operations</h3><p>Incremental operations include</p><ul><li>filter</li><li>operate</li><li>aggregate</li></ul><p>Incremental operations are able to build on top of one another and build up <strong>incrementally</strong> in their operation.</p><pre><code class="clojure">(filter x "Salary" (fn [salary] (&lt;= salary 800)))
;; this statement deletes all the rows that have a salary larger than 800

(filter x "Department" (fn [dept] (= dept "computer science")))
;; this statements deletes all the rows that contain people not in the computer science department

(filter x ["Salary" "Department"] (fn [salary dept] (and (&lt;= salary 800) (= dept "computer science"))))
;; keeps only people from computer science department with salary not larger than 800
</code></pre><p>This means additional incremental operations are applied on top of existing operations</p>
</div>
<!-- 
<div id="post-tags">
    <br/>
    <b>Tags: </b>
    
    <a href="/clojask-website/tags-output/Start/">Start</a>
    
</div>
 -->
<!-- <br/> -->


    <!-- 
    <div id="prev-next">
    
    <a class="prev" href="/clojask-website/posts-output/extensions/"><svg class="icon icon-circle-left"><use xlink:href="/clojask-website/img/icons.svg#icon-circle-left"></use></svg><div class="nav-text">Extensions</div></a>
    
    
    <a class="next" href="/clojask-website/posts-output/examples/"><div class="nav-text"">Examples</div><svg class="icon icon-circle-right"><use xlink:href="/clojask-website/img/icons.svg#icon-circle-right"></use></svg></a>
    
</div>

     -->

    


</div>

            <!-- <hr/> -->
            <br/>
            <div id="footercont">
                Copyright &copy; 2023 Clojask
                <br>Powered by <a href="http://cryogenweb.org">Cryogen</a>
            </div>
        </article>

        <script src="/clojask-website/js/highlight.pack.js" type="application/javascript"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <script src="/clojask-website/js.dropdown.js" type="application/javascript"></script> 
        

        
        
    </body>
</html>
